<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
  "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-chroot-creatingdirs">
  <?dbhtml filename="creatingdirs.html"?>

  <title>Creating Directories</title>

  <xi:include xmlns:xi="http://www.w3.org/2003/XInclude"
  href="../../boot/common/creatingdirs.xml"
  xpointer="xpointer(//*[@os='a'])"/>

<screen><userinput>mkdir -pv /{bin,boot,dev,etc/opt,home,lib,mnt,opt}
mkdir -pv /{proc,media/{floppy,cdrom},sbin,srv,sys,var}
install -dv -m 0750 /root
install -dv -m 1777 {/var,}/tmp
mkdir -pv /usr/{,local/}{bin,include,lib,sbin,src}
mkdir -pv /usr/{,local/}share/{doc,info,locale,man}
mkdir -v  /usr/{,local/}share/{misc,terminfo,zoneinfo}
mkdir -pv /usr/{,local/}share/man/man{1..8}
for dir in /usr{,/local}; do
  ln -sv share/{man,doc,info} $dir
done
mkdir -v /var/{lock,log,mail,run,spool}
mkdir -pv /var/{opt,cache,lib/{misc,locate},local}</userinput></screen>

  <xi:include xmlns:xi="http://www.w3.org/2003/XInclude"
  href="../../boot/common/creatingdirs.xml"
  xpointer="xpointer(//*[@os='b'])"/>

  <para os="c">The first mode change ensures that not just anybody can enter
  the <filename class="directory">/root</filename> directory&mdash;the
  same as a normal user would do with his or her home directory. The
  second mode change makes sure that any user can write to the
  <filename class="directory">/tmp</filename> and
  <filename class="directory">/var/tmp</filename> directories, but
  cannot remove another user's files from them. The latter is prohibited
  by the so-called <quote>sticky bit,</quote> the highest bit (1) in the
  1777 bit mask.</para>

  <xi:include xmlns:xi="http://www.w3.org/2003/XInclude"
  href="../../boot/common/creatingdirs.xml"
  xpointer="xpointer(//*[@os='d'])"/>

</sect1>
